# Project Basphere

ê°œë°œì ëŒ€ìƒ ì…€í”„ì„œë¹„ìŠ¤ ì¸í”„ë¼ í”Œë«í¼

## ê°œìš”

BasphereëŠ” VMware vSphere ê¸°ë°˜ì˜ ì…€í”„ì„œë¹„ìŠ¤ ì¸í”„ë¼ í”Œë«í¼ì…ë‹ˆë‹¤. ê°œë°œìê°€ VMê³¼ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì§ì ‘ í”„ë¡œë¹„ì €ë‹í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

## ë¡œë“œë§µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Project Basphere                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Stage 1 (MVP) âœ… ì™„ë£Œ                                                       â”‚
â”‚  â”œâ”€â”€ CLI ê¸°ë°˜ VM ì…€í”„ì„œë¹„ìŠ¤                                                   â”‚
â”‚  â”œâ”€â”€ ì›¹ ê¸°ë°˜ ì‚¬ìš©ì ë“±ë¡                                                      â”‚
â”‚  â””â”€â”€ ê´€ë¦¬ì CLI                                                              â”‚
â”‚                                                                             â”‚
â”‚  Stage 2 (ì˜ˆì •)                                                              â”‚
â”‚  â”œâ”€â”€ Kubernetes í´ëŸ¬ìŠ¤í„° í”„ë¡œë¹„ì €ë‹ (Cluster API)                             â”‚
â”‚  â””â”€â”€ í…Œë„ŒíŠ¸ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬                                                     â”‚
â”‚                                                                             â”‚
â”‚  Stage 3 (IDP)                                                               â”‚
â”‚  â”œâ”€â”€ Backstage ê¸°ë°˜ í¬í„¸                                                     â”‚
â”‚  â”œâ”€â”€ Crossplane ì¸í”„ë¼ ì œì–´                                                  â”‚
â”‚  â”œâ”€â”€ GitOps (ArgoCD/Flux)                                                   â”‚
â”‚  â””â”€â”€ Harbor, CI/CD í†µí•©                                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## í˜„ì¬ ìƒíƒœ: Stage 1 (MVP)

CLIì™€ ê°„ë‹¨í•œ APIë¥¼ í†µí•œ VM ì…€í”„ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     SSH      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Developer  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Bastion   â”‚                 â”‚   vSphere   â”‚
â”‚             â”‚              â”‚             â”‚                 â”‚  (vCenter)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                           â”‚                                â–²
       â”‚      HTTP (ë“±ë¡ í¼)        â”‚                                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
                                   â–¼                                â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Terraform    â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚  API Server â”‚
                            â”‚  (Go/chi)   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **CLI**: ì‚¬ìš©ì ëª…ë ¹ì–´ (create-vm, list-vms ë“±)
- **API Server**: VM í”„ë¡œë¹„ì €ë‹ ì²˜ë¦¬, vSphere ì¸ì¦ ì •ë³´ ë³´í˜¸
- **ë³´ì•ˆ**: vSphere ì¸ì¦ ì •ë³´ëŠ” API ì„œë²„ë§Œ ì ‘ê·¼ ê°€ëŠ¥ (600 ê¶Œí•œ)

### ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| VM í”„ë¡œë¹„ì €ë‹ | CLIë¡œ VM ìƒì„±/ì¡°íšŒ/ì‚­ì œ |
| ë‹¤ì¤‘ OS ì§€ì› | Ubuntu 24.04, Rocky Linux 10.1 |
| IP ìë™ í• ë‹¹ | ì‚¬ìš©ìë³„ IP ë¸”ë¡, ê²½ëŸ‰ IPAM |
| ì‚¬ìš©ì ë“±ë¡ | ì›¹ í¼ìœ¼ë¡œ ë“±ë¡ ìš”ì²­, ê´€ë¦¬ì ìŠ¹ì¸ |
| ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ | ì‚¬ìš©ìë³„ VM/IP ì œí•œ |

### ì§€ì› VM ìŠ¤í™

| ìŠ¤í™ | vCPU | RAM | Disk |
|------|------|-----|------|
| tiny | 2 | 4GB | 50GB |
| small | 2 | 8GB | 50GB |
| medium | 4 | 16GB | 100GB |
| large | 8 | 32GB | 200GB |
| huge | 16 | 64GB | 200GB |

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
project-basphere/
â”œâ”€â”€ basphere-cli/           # Bash ê¸°ë°˜ CLI ë„êµ¬
â”‚   â”œâ”€â”€ scripts/            # CLI ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ lib/                # ê³µí†µ í•¨ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ templates/          # Terraform í…œí”Œë¦¿
â”‚   â””â”€â”€ docs/               # ì‚¬ìš©ì ê°€ì´ë“œ
â”‚
â”œâ”€â”€ basphere-api/           # Go ê¸°ë°˜ REST API ì„œë²„
â”‚   â”œâ”€â”€ cmd/                # ì„œë²„ ì§„ì…ì 
â”‚   â”œâ”€â”€ internal/           # ë‚´ë¶€ íŒ¨í‚¤ì§€
â”‚   â””â”€â”€ web/                # HTML í…œí”Œë¦¿
â”‚
â”œâ”€â”€ docs/                   # ğŸ“š ë¬¸ì„œ
â”‚   â”œâ”€â”€ design/             # IDP ì„¤ê³„ (vision, architecture, roadmap)
â”‚   â”œâ”€â”€ operations/         # ìš´ì˜ (installation, troubleshooting, security)
â”‚   â””â”€â”€ development/        # ê°œë°œ (contributing)
â”‚
â”œâ”€â”€ deploy/                 # ë°°í¬ ì„¤ì • (nginx, systemd)
â”‚
â””â”€â”€ CLAUDE.md               # ê°œë°œ ì»¨í…ìŠ¤íŠ¸ (AI í˜‘ì—…ìš©)
```

## ê¸°ìˆ  ìŠ¤íƒ

### í˜„ì¬ (Stage 1)

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| CLI | Bash, jq, yq |
| API | Go 1.21+, chi router |
| IaC | Terraform + vSphere Provider |
| VM ì´ˆê¸°í™” | cloud-init |
| ìŠ¤í† ë¦¬ì§€ | íŒŒì¼ ê¸°ë°˜ (JSON) |

### ëª©í‘œ (Stage 3 - IDP)

| êµ¬ë¶„ | ê¸°ìˆ  |
|------|------|
| í¬í„¸ | Backstage |
| ì¸í”„ë¼ ì œì–´ | Crossplane |
| K8s í”„ë¡œë¹„ì €ë‹ | Cluster API |
| GitOps | ArgoCD / Flux |
| ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬ | Harbor |
| í…Œë„ŒíŠ¸ ë¼ìš°í„° | OPNsense |
| VPN | WireGuard |
| ë°ì´í„°ë² ì´ìŠ¤ | PostgreSQL |

## ë¹ ë¥¸ ì‹œì‘

### ì‚¬ìš©ì

1. ì›¹ í¼ì—ì„œ ë“±ë¡ ìš”ì²­ ì œì¶œ
2. ê´€ë¦¬ì ìŠ¹ì¸ í›„ Bastion SSH ì ‘ì†
3. VM ìƒì„± ë° ê´€ë¦¬

```bash
# Bastion ì ‘ì†
ssh <username>@<bastion-server>

# VM ìƒì„±
create-vm -n my-server -s small

# VM ëª©ë¡
list-vms

# VM ì‚­ì œ
delete-vm my-server
```

### ê´€ë¦¬ì

```bash
# ëŒ€ê¸° ì¤‘ì¸ ë“±ë¡ ìš”ì²­ í™•ì¸
sudo basphere-admin user pending

# ì‚¬ìš©ì ìŠ¹ì¸
sudo basphere-admin user approve <username>

# ì‚¬ìš©ì ëª©ë¡
sudo basphere-admin user list
```

## ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [docs/design/vision.md](docs/design/vision.md) | í”„ë¡œì íŠ¸ ë¹„ì „ ë° ëª©í‘œ |
| [docs/design/architecture.md](docs/design/architecture.md) | ì „ì²´ ì•„í‚¤í…ì²˜ |
| [docs/design/roadmap.md](docs/design/roadmap.md) | Stageë³„ ìƒì„¸ ê³„íš |
| [docs/operations/installation.md](docs/operations/installation.md) | ìƒˆ í™˜ê²½ ì„¤ì¹˜ ê°€ì´ë“œ |
| [basphere-cli/README.md](basphere-cli/README.md) | CLI ê°€ì´ë“œ |
| [basphere-api/README.md](basphere-api/README.md) | API ì„œë²„ ê°€ì´ë“œ |
| [basphere-cli/docs/user-guide.md](basphere-cli/docs/user-guide.md) | ì‚¬ìš©ì ê°€ì´ë“œ |

## IDP ë¹„ì „

BasphereëŠ” í˜„ì¬ CLI ê¸°ë°˜ MVPì—ì„œ ì‹œì‘í•˜ì—¬, ê¶ê·¹ì ìœ¼ë¡œ ì™„ì „í•œ Internal Developer Platform(IDP)ìœ¼ë¡œ ë°œì „í•  ê³„íšì…ë‹ˆë‹¤.

### ëª©í‘œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Backstage Portal                             â”‚
â”‚                     (ì‚¬ìš©ì í¬í„¸, ì„œë¹„ìŠ¤ ì¹´íƒˆë¡œê·¸)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Control Plane                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Crossplane â”‚  â”‚ Cluster API â”‚  â”‚   ArgoCD    â”‚  â”‚   Harbor    â”‚     â”‚
â”‚  â”‚  (ì¸í”„ë¼)   â”‚  â”‚ (K8s í´ëŸ¬ìŠ¤í„°)â”‚  â”‚   (GitOps)  â”‚  â”‚  (Registry) â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Tenant Infrastructure                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Tenant Network (OPNsense)                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚  K8s Clusterâ”‚  â”‚  K8s Clusterâ”‚  â”‚    VMs      â”‚                 â”‚ â”‚
â”‚  â”‚  â”‚  (Dev)      â”‚  â”‚  (Prod)     â”‚  â”‚             â”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ëª©í‘œ

1. **ì…€í”„ì„œë¹„ìŠ¤**: ê°œë°œìê°€ ì¸í”„ë¼ íŒ€ ê°œì… ì—†ì´ ë¦¬ì†ŒìŠ¤ í”„ë¡œë¹„ì €ë‹
2. **ë©€í‹°í…Œë„Œì‹œ**: íŒ€/í”„ë¡œì íŠ¸ë³„ ê²©ë¦¬ëœ ë„¤íŠ¸ì›Œí¬ í™˜ê²½
3. **í‘œì¤€í™”**: Golden Pathë¥¼ í†µí•œ ì¼ê´€ëœ ê°œë°œ í™˜ê²½
4. **ìë™í™”**: GitOps ê¸°ë°˜ ì¸í”„ë¼ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬

## ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” í™ˆë© í™˜ê²½ì—ì„œ IDP êµ¬ì¶•ì„ í•™ìŠµí•˜ê³  ì‹¤í—˜í•˜ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

## ë¼ì´ì„ ìŠ¤

MIT License
